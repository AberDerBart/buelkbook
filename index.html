<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Bülkbook</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
	<link rel="stylesheet" href="/css/normalize.css">
	<link rel="stylesheet" href="/css/style.css">

	<!-- generated by http://realfavicongenerator.net/ -->
	<link rel="shortcut icon" href="/img/icon/favicon.ico">
	<link rel="apple-touch-icon" sizes="57x57" href="/img/icon/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/img/icon/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/img/icon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/img/icon/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/img/icon/apple-touch-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/img/icon/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/img/icon/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/img/icon/apple-touch-icon-152x152.png">
	<link rel="icon" type="image/png" href="/img/icon/favicon-196x196.png" sizes="196x196">
	<link rel="icon" type="image/png" href="/img/icon/favicon-160x160.png" sizes="160x160">
	<link rel="icon" type="image/png" href="/img/icon/favicon-96x96.png" sizes="96x96">
	<link rel="icon" type="image/png" href="/img/icon/favicon-16x16.png" sizes="16x16">
	<link rel="icon" type="image/png" href="/img/icon/favicon-32x32.png" sizes="32x32">
	<meta name="msapplication-TileColor" content="#00aba9">
	<meta name="msapplication-TileImage" content="/img/icon/mstile-144x144.png">
	<meta name="msapplication-config" content="/img/icon/browserconfig.xml">
</head>
<body>

<div class="app-view">

</div>

<script type="text/template" id="template-AppView">
	<div class="app-view__main js--app-view__main"></div>
	<footer class="app-view__footer">
		2017 by Tilman Stehr
	</footer>
	<div class="app-view__overlay">
		<div class="app-view__overlay__window  js--app-view__overlay"></div>
	</div>
</script>
	
<script type="text/template" id="template-AttendeeCollectionView">
	<header class="attendee-collection__header">
		<h1 class="attendee-collection__header__headline">Bülkbook</h1>
		<p>Willkommen auf der Seite vom Familientreffen in Bülkau 2017. Das Treffen findet vom 8. bis 10. September 2017 statt. Bitte tragt in der Tabelle ein, ob ihr kommt und wen und was ihr mitbringt.</p>
		<p>Wenn Interesse besteht, können wir, wie letztes Jahr, wieder einen Motto-Abend machen. Angesichts der Kurzfristigkeit können keine neuen Vorschläge mehr eingereicht werden, daher gibt es nur die Vorschläge aus dem letzten Jahr, die nicht gewählt wurden. Es gilt wieder, dass jede Person eine Stimme hat (wenn ihr euch mit den euren nicht einig seid, müsst ihr euch getrennt eintragen, die Verteilung der Stimmen auf mehrere Vorschläge ist leider immer noch nicht möglich).</p>
		<p>Fragen, Kommentare und Anmerkungen könnt ihr an <a href="mailto:j.grosse-holz@gmx.de">j.grosse-holz@gmx.de</a> schicken.</p>
		<div class="js--attendee-collection__total"></div>
		<p><a href="/attendee/new" class="button" tabindex="0">Neuen Teilnehmer anmelden</a></p>
	</header>
	<table class="attendees">
		<thead>
			<tr>
				<th>Leute</th>
				<th>Zeug</th>
				<th>Anmerkung</th>
				<th>Abstimmung</th>
				<th>Bearbeiten</th>
			</tr>
		</thead>
		<tbody class="js--attendee-collection__table"></tbody>
	</table>
</script>

<script type="text/template" id="template-AttendeeCollectionTotalView">
	<p>Bis jetzt <%= total !== 1 ? "sind" : "ist" %>  <%- total %> Person<%= total !== 1 ? "en" : "" %> angemeldet!</p>
	<p>Abstimmungsergebnisse:</p>
	<table class="attendee-collection-total__votes">
		<thead>
		<tr>
			<th>Option</th>
			<th>Stimmen</th>
		</tt>
		</thead>
		<tbody>
			<% for (var i = 0; i < votes.length; i++) { %>
				<% var vote = votes[i] %>
				<tr>
					<td class="attendee-collection-total__vote-row__option"><%- vote.optionId %></td>
					<td class="attendee-collection-total__vote-row__votes"><%- vote.votes %></td>
				</tr>
			<% } %>
		</tbody>
	</table>
</script>

<script type="text/template" id="template-AttendeeTableRowView">
	<td class="attendee-table-row__guys">
		<div><strong><%- name %></strong></div>
		<div class="js--attendee-table-row__companions"></div>
	</td>
	<td class="attendee-table-row__stuff"><%= stuff %></td>
	<td class="attendee-table-row__comment"><%= comment %></td>
	<td class="attendee-table-row__option"><%- option %></td>
	<td class="attendee-table-row__controls js--attendee-table-row__controls"><%= controls %></td>
</script>

<script type="text/template" id="template-AttendeeTableRowView__controls--default">
	<a href="/attendee/<%- id %>" class="button button--float" tabindex="0">Bearbeiten</a> 
	<button type="button" class="button button--float button--negative js--attendee-table-row__delete-show">Löschen</button>
</script>

<script type="text/template" id="template-AttendeeTableRowView__controls--delete">
	<div style="margin-bottom:.5rem">Wirklich löschen? </div>
	<button type="button" class="button button--float button--negative js--attendee-table-row__delete-confirm">Ja</button>
	<button type="button" class="button button--float button--positive js--attendee-table-row__delete-abort">Nein</button>
</script>


<script type="text/template" id="template-AttendeeEditView">
	<% if (name) { %>
		<h2>„<%- name %>“ bearbeiten</h2>
	<% } else { %>
		<h2>Neue Teilnehmer anmelden</h2>
	<% } %>
 	<label class="input-group js--attendee-edit__name">
		<strong class="input-group__label">Name:</strong> 
		<input class="input-group__input" type="text" value="<%- name %>">
		<div class="input-group__message"></div>
	</label>
	<label class="input-group js--attendee-edit__companions">
		<strong class="input-group__label">Begleiter:</strong> 
		<textarea class="input-group__input input-group__input--multiline"><%- companions %></textarea>
		<div class="input-group__info">Bitte für jeden Begleiter eine neue Zeile</div>
		<div class="input-group__message"></div>
	</label>
	<label class="input-group js--attendee-edit__stuff">
		<strong class="input-group__label">Zeugs:</strong> 
		<textarea class="input-group__input input-group__input--multiline"><%- stuff %></textarea>
		<div class="input-group__message"></div>
	</label>
	<label class="input-group js--attendee-edit__comment">
		<strong class="input-group__label">Anmerkung:</strong> 
		<textarea class="input-group__input input-group__input--multiline"><%- comment %></textarea>
		<div class="input-group__message"></div>
	</label>
	<label class="input-group js--attendee-edit__option">
		<strong class="input-group__label">Abstimmung:</strong> 
		<select class="input-group__input js--attendee-edit__option__select"></select>
		<div class="input-group__message"></div>
	</label>
	<button type="submit" class="button button--positive js--attendee-edit__save">Speichern</button>
	<button type="button" class="button button--negative js--attendee-edit__cancel">Abbrechen</button> 
</script>

<script src="/js/libs/promise.js"></script>
<script src="/js/libs/lodash.js"></script>
<script src="/js/libs/jquery.js"></script>
<script src="/js/libs/backbone.js"></script>
<script src="/js/libs/backbone-super.js"></script>
<script src="/js/libs/backbone-relational.js"></script>

<script src="/js/routers/Router.js"></script>
<script src="/js/models/Attendee.js"></script>
<script src="/js/models/Companion.js"></script>
<script src="/js/models/Option.js"></script>

<script src="/js/collections/AttendeeCollection.js"></script>
<script src="/js/collections/OptionCollection.js"></script>

<script src="/js/views/ACollectionView.js"></script>
<script src="/js/views/AppView.js"></script>
<script src="/js/views/AttendeeCollectionView.js"></script>
<script src="/js/views/AttendeeCollectionTotalView.js"></script>
<script src="/js/views/AttendeeTableRowView.js"></script>
<script src="/js/views/AttendeeEditView.js"></script>
<script src="/js/views/CompanionCollectionView.js"></script>
<script src="/js/views/CompanionView.js"></script>
<script src="/js/views/OptionCollectionView.js"></script>
<script src="/js/views/OptionView.js"></script>

<script>
var av = new bb.AppView({el: '.app-view'});
av.render();
var router = new bb.Router(av);
Backbone.history.start({pushState: true});
</script>


</body>
</html>
